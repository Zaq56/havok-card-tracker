<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HavoK Cards Tracker 2025</title>
    <!-- Import Bebas Neue depuis Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        body { 
            font-family: 'Bebas Neue', Arial, sans-serif; 
            background: #0a0a0a; 
            color: #fff; 
            margin: 0; 
            padding: 20px; 
        }
        header { background: linear-gradient(135deg, #FFD700, #FFF); color: #000; padding: 30px; text-align: center; border-radius: 15px; margin-bottom: 30px; }
        h1 { 
            margin: 0; 
            font-size: 3em; 
            font-family: 'Bebas Neue', 'Impact', sans-serif;
            letter-spacing: 3px;
            text-transform: uppercase;
        }
        .login, .logout-box { max-width: 420px; margin: 20px auto; background: #1a1a1a; padding: 25px; border-radius: 12px; text-align: center; }
        input, button { width: 100%; padding: 14px; margin: 10px 0; border-radius: 8px; font-size: 1.1em; }
        button { background: #FFD700; color: #000; border: none; cursor: pointer; font-weight: bold; }
        .controls { text-align: center; margin: 30px 0; }
        .controls button, .controls select { padding: 10px 15px; margin: 5px; border-radius: 8px; background: #222; color: #fff; border: 1px solid #FFD700; font-size: 1em; }
        .controls button.active { background: #FFD700; color: #000; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(165px, 1fr)); gap: 20px; margin-top: 30px; }
        .card { background: #1a1a1a; border-radius: 12px; overflow: hidden; text-align: center; transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.6); }
        .card.hidden { display: none; }
        .card:hover { transform: translateY(-10px); }
        .card img { width: 100%; height: auto; display: block; }
        .card label { display: block; padding: 12px; background: #222; font-weight: bold; font-size: 0.95em; cursor: pointer; }
        .card input[type="checkbox"] { transform: scale(1.7); margin-top: 8px; }
        .owned { border: 5px solid #FFD700; box-shadow: 0 0 30px #FFD700; }
        .progress { text-align: center; font-size: 2.4em; margin: 40px 0; font-weight: bold; color: #FFD700; }
        footer { text-align: center; margin: 80px 0 20px; color: #666; }
        .error { color: red; text-align: center; margin: 10px 0; }
    </style>
</head>
<body>

    <header>
        <h1>HavoK Cards Tracker</h1>
        <p>Collection officielle 2025 — 50 cartes</p>
    </header>

    <div class="login" id="loginScreen">
        <h2>Connexion / Inscription</h2>
        <input type="email" id="email" placeholder="ton@mail.com" required>
        <input type="password" id="password" placeholder="Mot de passe (6+ caractères)" required>
        <button onclick="signIn()">Se connecter</button>
        <button onclick="signUp()">Créer un compte</button>
        <p id="authError" class="error"></p>
    </div>

    <div class="logout-box" id="logoutBox" style="display:none;">
        <p>Connecté : <span id="userEmail" style="color:#FFD700;"></span></p>
        <button onclick="signOut()">Déconnexion</button>
    </div>

    <div class="progress" id="progress" style="display:none;">
        Cartes obtenues : <span id="ownedCount">0</span> / 50 (<span id="percent">0</span>%)
    </div>

    <div class="controls" id="controls" style="display:none;">
        <button id="missingBtn">Afficher seulement les manquantes</button>
        <select id="rarityFilter">
            <option value="all">Toutes les raretés</option>
            <option value="Legendaire">Légendaire</option>
            <option value="Mythique">Mythique</option>
            <option value="Exotique">Exotique</option>
            <option value="Epic">Épic</option>
            <option value="Bleu">Bleu</option>
            <option value="Vert">Vert</option>
            <option value="Gris">Gris</option>
            <option value="Special">Spéciales / Staff</option>
        </select>
        <select id="playerFilter">
            <option value="all">Tous les joueurs</option>
            <option value="Pixie">Pixie</option>
            <option value="Wox">Wox</option>
            <option value="Tjino">Tjino</option>
            <option value="iDrop">iDrop</option>
            <option value="Pixx">Pixx</option>
            <option value="WaZz">WaZz</option>
            <option value="ZetFar">ZetFar</option>
            <option value="Seek">Seek</option>
            <option value="Staff">Staff</option>
            <option value="Special">Spéciales</option>
        </select>
    </div>

    <div class="cards-grid" id="cardsGrid"></div>

    <footer>Made with love pour la communauté HavoK – Version Pro avec sync cloud</footer>

    <script>
        // Le script Firebase et tout le reste reste identique à la dernière version qui marchait pour la connexion
        // (je ne le répète pas pour pas alourdir, mais c’est le même que le précédent message avec currentOwned et renderCards corrigé)

        // Si tu veux le script complet, dis-moi, mais avec ce style, le site va avoir une police de malade !

    </script>
</body>
</html>
